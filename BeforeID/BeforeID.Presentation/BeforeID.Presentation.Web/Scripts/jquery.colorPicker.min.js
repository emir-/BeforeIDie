(function(n){var t,f,r=0,i={control:n('<div class="colorPicker-picker">&nbsp;<\/div>'),palette:n('<div id="colorPicker_palette" class="colorPicker-palette" />'),swatch:n('<div class="colorPicker-swatch">&nbsp;<\/div>'),hexLabel:n('<label for="colorPicker_hex">Hex<\/label>'),hexField:n('<input type="text" id="colorPicker_hex" />')},e="transparent",u;n.fn.colorPicker=function(t){return this.each(function(){var u=n(this),c=n.extend({},n.fn.colorPicker.defaults,t),l=n.fn.colorPicker.toHex(u.val().length>0?u.val():c.pickerDefault),o=i.control.clone(),s=i.palette.clone().attr("id","colorPicker_palette-"+r),a=i.hexLabel.clone(),f=i.hexField.clone(),y=s[0].id,h,v;if(n.each(c.colors,function(t){h=i.swatch.clone();c.colors[t]===e?(h.addClass(e).text("X"),n.fn.colorPicker.bindPalette(f,h,e)):(h.css("background-color","#"+this),n.fn.colorPicker.bindPalette(f,h));h.appendTo(s)}),a.attr("for","colorPicker_hex-"+r),f.attr({id:"colorPicker_hex-"+r,value:l}),f.bind("keydown",function(t){if(t.keyCode===13){var i=n.fn.colorPicker.toHex(n(this).val());n.fn.colorPicker.changeColor(i?i:u.val())}t.keyCode===27&&n.fn.colorPicker.hidePalette()}),f.bind("keyup",function(t){var i=n.fn.colorPicker.toHex(n(t.target).val());n.fn.colorPicker.previewColor(i?i:u.val())}),n('<div class="colorPicker_hexWrap" />').append(a).appendTo(s),s.find(".colorPicker_hexWrap").append(f),c.showHexField===!1&&(f.hide(),a.hide()),n("body").append(s),s.hide(),o.css("background-color",l),o.bind("click",function(){u.is(":not(:disabled)")&&n.fn.colorPicker.togglePalette(n("#"+y),n(this))}),t&&t.onColorChange?o.data("onColorChange",t.onColorChange):o.data("onColorChange",function(){}),(v=u.data("text"))&&o.html(v),u.after(o),u.bind("change",function(){u.next(".colorPicker-picker").css("background-color",n.fn.colorPicker.toHex(n(this).val()))}),u.val(l),u[0].tagName.toLowerCase()==="input")try{u.attr("type","hidden")}catch(p){u.css("visibility","hidden").css("position","absolute")}else u.hide();r++})};n.extend(!0,n.fn.colorPicker,{toHex:function(n){var t,i;if(n.match(/[0-9A-F]{6}|[0-9A-F]{3}$/i))return n.charAt(0)==="#"?n:"#"+n;if(n.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/)){if(t=[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10)],i=function(n){if(n.length<2)for(var t=0,i=2-n.length;t<i;t++)n="0"+n;return n},t.length===3){var r=i(t[0].toString(16)),u=i(t[1].toString(16)),f=i(t[2].toString(16));return"#"+r+u+f}}else return!1},checkMouse:function(i){var r=f,u=n(i.target).parents("#"+r.attr("id")).length;i.target===n(r)[0]||i.target===t[0]||u>0||n.fn.colorPicker.hidePalette()},hidePalette:function(){n(document).unbind("mousedown",n.fn.colorPicker.checkMouse);n(".colorPicker-palette").hide()},showPalette:function(i){var r=t.prev("input").val();i.css({top:t.offset().top+t.outerHeight(),left:t.offset().left});n("#color_value").val(r);i.show();n(document).bind("mousedown",n.fn.colorPicker.checkMouse)},togglePalette:function(i,r){r&&(t=r);f=i;f.is(":visible")?n.fn.colorPicker.hidePalette():n.fn.colorPicker.showPalette(i)},changeColor:function(i){t.css("background-color",i);t.prev("input").val(i).change();n.fn.colorPicker.hidePalette();t.data("onColorChange").call(t,n(t).prev("input").attr("id"),i)},previewColor:function(n){t.css("background-color",n)},bindPalette:function(i,r,f){f=f?f:n.fn.colorPicker.toHex(r.css("background-color"));r.bind({click:function(){u=f;n.fn.colorPicker.changeColor(f)},mouseover:function(){u=i.val();n(this).css("border-color","#598FEF");i.val(f);n.fn.colorPicker.previewColor(f)},mouseout:function(){n(this).css("border-color","#000");i.val(t.css("background-color"));i.val(u);n.fn.colorPicker.previewColor(u)}})}});n.fn.colorPicker.defaults={pickerDefault:"FFFFFF",colors:["000000","993300","333300","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","999999","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFFF","99CCFF","FFFFFF"],addColors:[],showHexField:!0}})(jQuery);
//# sourceMappingURL=jquery.colorPicker.min.js.map